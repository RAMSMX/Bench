(function(){function i(t,n,s,o){if(r(t)){o=s;s=n;n=t;t=i.DEFAULT_REPETITIONS}if(!r(n))throw new Error("You must provide a valid function");this.fn=n;this.times=t;this.scope=s||e;this.args=o||[]}function o(t,n,s){if(!r(t))throw new Error('The object "'+t+'" is not a function.');var o;if(i.CATCH_ERRORS){try{o=t.apply(n||e,s)}catch(u){return u}}else{o=t.apply(n||e,s)}return o}var e=this,t=Object.prototype,n=Array.prototype.slice,r=function(e){return t.toString.call(e)==="[object Function]"};i.VERISION="0.1.0";i.CATCH_ERRORS=false;i.DEFAULT_REPETITIONS=10;var s=e.Bench;i.noConflict=function(){e.Bench=s;return i};i.run=function(e,t){var r=(new Date).getTime();o(e,t,n.call(arguments,2));return(new Date).getTime()-r};i.runAsync=function(t,r,i){var s=n.call(arguments,3);setTimeout(function(){var n=(new Date).getTime(),u=o(r,i,s);t.call(e,(new Date).getTime()-n,u,r,i,s)},1)};i.repeat=function(e,t,r){var i=(new Date).getTime(),s=n.call(arguments,3);while(e-->0){o(t,r,s)}return(new Date).getTime()-i};i.opsPerSecond=function(e,t){var r=0,i=(new Date).getTime(),s=n.call(arguments,2);while((new Date).getTime()-i<1e3){o(e,t,s);r++}return r};i.avgOpsPerSecond=function(e,t,s){var o,u=0,a=e,f=n.call(arguments,2);if(r(e)){s=t;t=e;a=e=i.DEFAULT_REPETITIONS}else f.shift();while(a-->0){u+=i.opsPerSecond.apply(null,[t,s].concat(f))}return u/e};i.fastest=function(e){var t,s=Number.MAX_VALUE,o=n.call(arguments);if(r(e)){e=i.DEFAULT_REPETITIONS}else o.shift();for(var u=0;u<o.length;u++){var a=i.avgOpsPerSecond.call(i,e,o[u]);if(a<s){s=a;t=o[u]}}return t};i.faster=function(e,t){var s=r(e)?e:t;return s===i.fastest.apply(null,n.call(arguments))};i.diagnose=function(e,t,s){var o={},u=n.call(arguments,2),a=["run","repeat","opsPerSecond","avgOpsPerSecond"];if(r(e)){s=t;t=e;e=i.DEFAULT_REPETITIONS}else u.shift();for(var f=0;f<a.length;f++){o[a[f]]=i[a[f]].apply(null,(i[a[f]].length===2?[t,s]:[e,t,s]).concat(u))}return o};i.wrap=function(){var t=n.call(arguments);for(var i=0;i<t.length;i++){if(!r(t[i]))throw new Error('The object "'+t[i]+'" is not a function.')}return function(){var r=n.call(arguments);for(var i=0;i<t.length;i++){t[i].apply(e,r)}}};var u=i.prototype;for(var a in i)if(t.hasOwnProperty.call(i,a)&&r(i[a])&&a!=="fastest"&&a!=="faster"&&a!=="runAsync"&&a!=="wrap"&&a!=="noConflict"){if(i[a].length===2){u[a]=function(e){return function(){return i[e].apply(null,[this.fn,this.scope].concat(this.args).concat(n.call(arguments)))}}(a)}else{u[a]=function(e){return function(){return i[e].apply(null,[this.times,this.fn,this.scope].concat(this.args).concat(n.call(arguments)))}}(a)}}u.faster=function(){return i.faster.apply(null,[this.fn].concat(n.call(arguments)))};u.runAsync=function(e){i.runAsync.apply(null,[e,this.fn,this.scope].concat(n.call(arguments)))};u.getFunction=function(){return this.fn};u.setFunction=function(e){if(!r(e))throw new Error('The object "'+e+'" is not a function.');this.fn=e;return this};u.getScope=function(){return this.scope};u.setScope=function(e){this.scope=e;return this};u.getTimes=function(){return this.times};u.setTimes=function(e){this.times=e;return this};u.getArgs=function(){return[].concat(this.args)};u.setArgs=function(){this.args=n.call(arguments);return this};u.addArgs=u.appendArgs=function(){this.args=this.args.concat(n.call(arguments));return this};u.prependArgs=function(){this.args.unshift.apply(this.args,n.call(arguments));return this};u.clearArgs=function(){this.args=[];return this};e.Bench=i}).call(this)